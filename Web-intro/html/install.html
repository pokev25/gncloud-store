<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="지앤클라우드,클라우드,솔루션,gncloud">
    <meta name="description" content="지앤클라우드에 오신것을 환영합니다">
    <!--FAVICON-->
    <link rel="apple-touch-icon" sizes="57x57" href="../assets/gn_images/apple-icon-57x57.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/gn_images/favicon-16x16.png">
    <title>지앤클라우드</title>

    <!-- 합쳐지고 최소화된 최신 CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <!--<link rel="stylesheet" href="../assets/gn_css/bootstrap_gn_theme.css">--> <!--기존 솔루션 css, 아래 css정리되면 삭제-->
    <link rel="stylesheet" href="../assets/gn_css/bootstrap_gnwebsite_theme.css">

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-93336641-1', 'auto');
    ga('send', 'pageview');

    </script>
</head>

<body>

<div class="blur">

    <!--랜딩페이지 HEADER-->
    <nav class="navbar navbar-default gn-header">
        <div class="container">
            <div class="navbar-header">

                <a class="navbar-brand" href="index.html">
                    <img src="../assets/gn_images/gncloud_header_logo.png" alt="지앤클라우드 웹사이트">
                </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse gn-header-collapsed">
                <div class="consol-btn pull-right col-sm-2">
                    
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- 매뉴얼 내용 시작 -->
        <div id="readme" class="readme blob instapaper_body">
            <article class="markdown-body entry-content" itemprop="text">
                <h1>
                    <a id="user-content-지앤클라우드-설치매뉴얼" class="anchor" href="#지앤클라우드-설치매뉴얼" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>
                    지앤클라우드 설치매뉴얼
                </h1>
                <h2>
                    <a id="user-content-목차" class="anchor" href="#목차" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>목차
                </h2>
                <ol>
                    <li>지앤클라우드 구성</li>
                    <li>지앤클라우드 플랫폼 설치</li>
                    <li>지앤클라우드 호스트 설치 (Windows - Hyper-V)</li>
                    <li>지앤클라우드 호스트 설치 (Linux - KVM)</li>
                    <li>지앤클라우드 호스트 설치 (Linux - Docker)</li>
                </ol>
                <hr>
                <p></p>
                <h3>
                    <a id="user-content-1-지앤클라우드-구성" class="anchor" href="#1-지앤클라우드-구성" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>1. 지앤클라우드 구성
                </h3>
                <hr>
                <p>지앤클라우드는 지앤클라우드 관리 및 운영을 하는 플랫폼과 실제 인스턴스 및 서비스가 동작하는 호스트 들로 구분한다.</p>
                <p></p>
                <p>
                    <a href="https://github.com/gncloud/gncloud-store/blob/master/Docs/platform/gncloud-arch.png?raw=true" target="_blank">
                        <img src="https://github.com/gncloud/gncloud-store/raw/master/Docs/platform/gncloud-arch.png?raw=true" alt="" style="max-width:100%;">
                    </a>
                </p>
                <p></p>
                <hr>
                <h3>
                    <a id="user-content-2-지앤클라우드-플랫폼-설치" class="anchor" href="#2-지앤클라우드-플랫폼-설치" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>2. 지앤클라우드 플랫폼 설치
                </h3>
                <hr>
                <p>지앤클라우드 플랫폼은 운영자, 사용자의 인터페이스를 담당하는 Web과 실제 내부 처리를 하는 컨트롤러들로 구성 되어 있으며,
                    마이크로서비스 아키텍쳐(MSA)를 따르고 있다.
                    설치와 관리의 편의를 위해 지앤클라우드 플랫폼은 Docker Container 기반으로 운영 되며 docker 가 설치 되어 있으면
                    OS에 상관없이 실행 가능하다.</p>
                <h4>
                    <a id="user-content-방화벽-해제" class="anchor" href="#방화벽-해제" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>방화벽 해제
                </h4>
                <p>OS 레벨에서 제공하는 방화벽에 등록을 하거나 해제를 해야한다.</p>
<pre>
<code>  # CentOS7 에서는
$ systemctl disable firewalld
$ systemctl stop firewalld
# seliux 설정 해제 (모든 설치 종료 후 리부팅 필요함)
$ sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/sysconfig/selinux
$ sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config </code>
</pre>
                <h4>
                    <a id="user-content-docker-설치" class="anchor" href="#docker-설치" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>docker 설치
                </h4>
                <p>
                    <a href="https://docs.docker.com/engine/installation/">https://docs.docker.com/engine/installation/</a>
                </p>
                <h4>
                    <a id="user-content-docker-compose-설치" class="anchor" href="#docker-compose-설치" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>docker-compose 설치
                </h4>
                <p>
                    <a href="https://docs.docker.com/compose/install/">https://docs.docker.com/compose/install/</a>
                </p>
                <h4>
                    <a id="user-content-docker-compose-실행" class="anchor" href="#docker-compose-실행" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>docker-compose 실행
                </h4>
                <p>
                    <a href="https://github.com/gncloud/gncloud-store/blob/master/Docs/platform/docker-compose.yml">https://github.com/gncloud/gncloud-store/blob/master/Docs/platform/docker-compose.yml</a>
                </p>
                <ul>
                    <li>docker-compose.yml 파일 다운로드</li>
                    <li>
                        <p>로그, database, docker registry 디렉토리 생성</p>
                                        <pre>
<code># root 권한으로 /var/log/gncloud 디렉토리 생성
$ mkdir -p /var/log/gncloud
$ mkdir -p /data/mysql
$ mkdir -p /data/registry

# 지앤클라우드 플랫폼 실행
$ docker-compose up -d </code>
</pre>
                    </li>
                </ul>
                <h4>
                    <a id="user-content-지앤클라우드-플랫폼-접속-및-설치-완료" class="anchor" href="#지앤클라우드-플랫폼-접속-및-설치-완료" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>지앤클라우드 플랫폼 접속 및 설치 완료
                </h4>
                <p>브라우저를 실행하고 주소창에 "http://&lt;지앤클라우드 플랫폼 설치 ip&gt;"를 입력 하면 아래와 같은 화면이 표시된다.</p>
                <p></p>
                <p>
                    <a href="https://github.com/gncloud/gncloud-store/blob/master/Docs/platform/login.png?raw=true" target="_blank">
                        <img src="https://github.com/gncloud/gncloud-store/raw/master/Docs/platform/login.png?raw=true" alt="" style="max-width:100%;">
                    </a>
                </p>
                <p></p>
                                <pre>
<code>기본 관리자 비밀번호는 11111111 이며 처음 로그인 후 비밀번호를 변경한다.  </code>
</pre>
                <ul>
                    <li>docker-compose up 화면
                        <ul>
                            <li>docker registry로부터 자동으로 docker image가 pull 되는 화면
			   
			    
                                <a href="https://github.com/gncloud/gncloud-store/blob/master/Docs/platform/docker-compose-up.png?raw=true" target="_blank">
                                    <img src="https://github.com/gncloud/gncloud-store/raw/master/Docs/platform/docker-compose-up.png?raw=true" alt="" style="max-width:100%;">
                                </a>
                            </li>
                            <li>docker service start log

                                <a href="https://github.com/gncloud/gncloud-store/blob/master/Docs/platform/docker-compose-up-2.png?raw=true" target="_blank">
                                    <img src="https://github.com/gncloud/gncloud-store/raw/master/Docs/platform/docker-compose-up-2.png?raw=true" alt="" style="max-width:100%;">
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <h4>
                    <a id="user-content-지앤클라우드-플랫폼과-연결되는-호스트-설정" class="anchor" href="#지앤클라우드-플랫폼과-연결되는-호스트-설정" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>지앤클라우드 플랫폼과 연결되는 호스트 설정
                </h4>
                                <pre>
<code>  # 지앤클라우드 플랫폼에서 사용자 데이터 생성
$ mkdir -p /var/lib/gncloud/KVM/script/initcloud
$ ssh-keygen -f ~/.ssh/id_rsa
$ &gt; /var/lib/gncloud/KVM/script/initcloud/user-data
$ echo "#cloud-config" &gt;&gt; /var/lib/gncloud/KVM/script/initcloud/user-data
$ echo "password: fastcat=1151" &gt;&gt; /var/lib/gncloud/KVM/script/initcloud/user-data
$ echo "chpasswd: {expire: False}" &gt;&gt; /var/lib/gncloud/KVM/script/initcloud/user-data
$ echo "ssh_pwauth: true" &gt;&gt; /var/lib/gncloud/KVM/script/initcloud/user-data
$ echo "ssh_authorized_keys:" &gt;&gt; /var/lib/gncloud/KVM/script/initcloud/user-data
$ cat ~/.ssh/id_rsa.pub &gt;&gt; /var/lib/gncloud/KVM/script/initcloud/user-data </code>
</pre>
                                <pre>
<code>  # 지앤클라우드 플랫폼에서 KVM 호스트에 ssh key copy
$ ssh-copy-id -i ~/.ssh/id_rsa.pub root@[KVM HOST IP]  * 지앤클라우드 플랫폼에서 실행, KVM, Docker 호스트에 복사
# connection 'yes', 비밀번호 입력
$ mkdir -p /var/lib/gncloud/KVM/script/initcloud/user-data * KVM 호스트에서 실행
$ scp -i ~/.ssh/id_rsa.pub /var/lib/gncloud/KVM/script/initcloud/user-data root@[KVM HOST IP]:/var/lib/gncloud/KVM/script/initcloud/user-data </code>
</pre>
                <hr>
                <p></p>
                <h3>
                    <a id="user-content-3-지앤클라우드-호스트-설치-windows---hyper-v" class="anchor" href="#3-지앤클라우드-호스트-설치-windows---hyper-v" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>3. 지앤클라우드 호스트 설치 (Windows - Hyper-V)
                </h3>
                <hr>
                <h4>
                    <a id="user-content-windows-hyper-v-프로그램-설치-windows-10-이상-windows-server-2012-이상-지원" class="anchor" href="#windows-hyper-v-프로그램-설치-windows-10-이상-windows-server-2012-이상-지원" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>Windows Hyper-V 프로그램 설치 (windows 10 이상, windows server 2012 이상 지원)
                </h4>
                <ul>
                    <li>
                        <p>제어판 -&gt; 프로그램 -&gt; windows 기능 켜기/끄기 -&gt; Hyper-V 체크 후 확인 -&gt; 리부팅</p>
                        <ul>
                            <li>
                                <p>windows 10
                                </p>
                                <a href="https://github.com/gncloud/gncloud-store/blob/master/Docs/platform/hyper-v-manager.png?raw=true" target="_blank">
                                    <img src="https://github.com/gncloud/gncloud-store/raw/master/Docs/platform/hyper-v-manager.png?raw=true" alt="" style="max-width:100%;">
                                </a>
                                <p></p>
                            </li>
                            <li>
                                <p>windows server 2102
                                </p>
                                <a href="https://github.com/gncloud/gncloud-store/blob/master/Docs/platform/server2012.png?raw=true" target="_blank">
                                    <img src="https://github.com/gncloud/gncloud-store/raw/master/Docs/platform/server2012.png?raw=true" alt="" style="max-width:100%;">
                                </a>
                                <p></p>
                            </li>
                        </ul>
                    </li>
                </ul>
                <h4>
                    <a id="user-content-파워쉘-실행---관리자-권한" class="anchor" href="#파워쉘-실행---관리자-권한" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>파워쉘 실행 - 관리자 권한
                </h4>
                                <pre>
<code>  # 지앤클라우드 플랫폼에서 접근하여 파워쉘 실행이 가능 하도록 설정
PS&gt; Enable-PSRemoting
PS&gt; Enable-WSManCredSSP -Role server </code>
</pre>
                                <pre>
<code>  # 가상스위치 생성
PS&gt; $net = Get-NetAdapter -physical | where status -eq 'up';
PS&gt; New-VMSwitch -Name out -NetAdapterName $net.Name -AllowManagementOS $true -Notes 'Parent OS, VMs, LAN'; </code>
</pre>
                                <pre>
<code>  # 이미지 저장 디렉토리 생성  - NAS (SAN) 설정 시 C drive 대신 세팅된 NAS(SAN) 네트워크 드라이브(예: Z)로 설정
PS&gt; $image_path = "C:\data\images\hyperv";
PS&gt; New-Item $image_path\instance -ItemType directory;
PS&gt; New-Item $image_path\manager -ItemType directory;
# NAS
PS&gt; $image_path = "Z:\data\images\hyperv";
PS&gt; New-Item $image_path\base -ItemType directory;
PS&gt; New-Item $image_path\snapshot -ItemType directory;
PS&gt; New-Item $image_path\backup -ItemType directory; </code>
</pre>
                                <pre>
<code>  # 지앤클라우드 에이전트 인바운드 허용
PS&gt; New-NetFirewallRule -DisplayName hypervagent -Direction Inbound -Action Allow -EdgeTraversalPolicy Allow -Protocol TCP -LocalPort 8180 </code>
</pre>
                                <pre>
<code>  # 지앤클라우드 에이전트 설치
# Gncloud Hyper-V Agent.zip 파일 다운로드 :
https://github.com/gncloud/gncloud/blob/master/Install/gncloud-hyperv-host/Gncloud%20Hyper-V%20Agent.zip?raw=true


PS&gt; Expand-Archive '.\Gncloud Hyper-V Agent.zip'
PS&gt; .\"Gncloud Hyper-V Agent\Gncloud Hyper-V Agent"\setup.exe </code>
</pre>
                                <pre>
<code>  # hyper-v agent를 관리자 계정 세팅 및 서비스 시작 하기
1. Win + R
2. services.msc 입력후 Enter
3. Gncloud Hyper-V Agent Service 항목을 더블클릭
4. 로그온탭 선택
5. 계정 지정 라디오 버튼 선택
Admin권한의 계정입력
암호입력
적용 버튼 클릭
확인 버튼 클릭
- 계정이름을 모를경우
찾아보기 클릭 or Alt + B
고급버튼 클릭 or Alt + A
지금찾기 클릭 or Alt + N
검색결과의 계정명 선택 (Admin의 권한을 가지고 있는 계정선택)
확인버튼 클릭
선택한 계정의 비밀번호 입력
적용 버튼 클릭
확인 버튼 클릭
6. 절차 완료후
Gncloud Hyper-V Agent Service 서비스 중지 후 다시 시작 </code>
</pre>
                                <pre>
<code>  # 원격접속 허용
PS&gt; (Get-WmiObject Win32_TerminalServiceSetting -Namespace root\cimv2\TerminalServices).SetAllowTsConnections(1,1) | Out-Null
PS&gt; (Get-WmiObject -Class "Win32_TSGeneralSetting" -Namespace root\cimv2\TerminalServices -Filter "TerminalName='RDP-tcp'").SetUserAuthenticationRequired(0) | Out-Null
PS&gt; Get-NetFirewallRule -DisplayName "Remote Desktop*" | Set-NetFirewallRule -enabled true </code>
</pre>
                                <pre>
<code>  # Dotnet Framework 설치 : windows server 2012 버전은 최신의 Dotnet Framework를 설치 해야한다.
https://www.microsoft.com/ko-KR/download/details.aspx?id=53345 </code>
</pre>
                <hr>
                <p></p>
                <h3>
                    <a id="user-content-4-지앤클라우드-호스트-설치-linux---kvm" class="anchor" href="#4-지앤클라우드-호스트-설치-linux---kvm" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>4. 지앤클라우드 호스트 설치 (Linux - KVM)
                </h3>
                <hr>
                <h4>
                    <a id="user-content-libvirt-설치" class="anchor" href="#libvirt-설치" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>libvirt 설치
                </h4>
                                <pre>
<code>$ yum update
$ yum -y install qemu-kvm libvirt virt-install bridge-utils
$ systemctl enable libvirtd
$ systemctl start libvirtd </code>
</pre>
                <h4>
                    <a id="user-content-버추얼-네트워크-생성" class="anchor" href="#버추얼-네트워크-생성" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>버추얼 네트워크 생성
                </h4>
                                <pre>
<code>$ virsh net-destroy default
$ virsh net-undefine default

#ifcfg-br0 설정
$ &gt; /etc/sysconfig/network-scripts/ifcfg-br0
$ echo "DEVICE=br0" &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-br0
$ echo "TYPE=Bridge" &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-br0
$ echo "BOOTPROTO=dhcp" &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-br0
$ echo "ONBOOT=yes" &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-br0
$ echo "DELAY=0" &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-br0

#network interface 이름에 따라 ifcfg-[interface name] : eth0일 경우
$ sed -i "s/^/#/g" /etc/sysconfig/network-scripts/ifcfg-eth0
$ sed -i "s/#UUID/UUID/g" /etc/sysconfig/network-scripts/ifcfg-eth0
$ echo "DEVICE=eth0" &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-eth0
$ echo "ONBOOT=yes" &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-eth0
$ echo "BRIDGE=br0" &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-eth0
$ echo "NM_CONTROLLED=no" &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-eth0

# CentOS 7의 경우 NetworkManager를 사용하지 않고 network 서비스를 사용한다.
$ systemctl disable NetworkManager
$ systemctl stop NetworkManager
$ systemctl restart network

# 인스턴스의 IP를 얻어 오기 위해 설치
$ yum -y install arp-scan </code>
</pre>
                <h4>
                    <a id="user-content-가상화-풀-생성-및-시작" class="anchor" href="#가상화-풀-생성-및-시작" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>가상화 풀 생성 및 시작
                </h4>
                                <pre>
<code>$ virsh pool-define-as default dir --target  '/var/lib/libvirt/images'
$ virsh pool-start default
$ virsh pool-autostart gnpool
$ systemctl restart libvirtd </code>
</pre>
                <h4>
                    <a id="user-content-호스트-서버-가상화-메타-파일-설치" class="anchor" href="#호스트-서버-가상화-메타-파일-설치" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>호스트 서버 가상화 메타 파일 설치
                </h4>
                                <pre>
<code># 지앤클라우드 플랫폼 설치 시 생성된 /var/lib/gncloud/KVM/script, /var/lib/gncloud/KVM/script/initcloud 디렉토리에 메타파일 복사
# user-data는 /var/lib/gncloud/KVM/script/initcloud 디렉토리에 있는지 확인 필요
# meta-data, config.iso 다운로드 후 /var/lib/gncloud/KVM/script/initcloud 디렉토리에 복사
https://github.com/gncloud/gncloud/blob/master/KVM/script/initcloud/config.iso?raw=true
https://github.com/gncloud/gncloud/blob/master/KVM/script/initcloud/meta-data?raw=true

# add_sshkeys.sh, get_ipaddress.sh, get_vm_use.sh, sshkey_copy.sh, make_sshkey.sh 다운로드 후
/var/lib/gncloud/KVM/script 디렉토리에 복사)
https://github.com/gncloud/gncloud/blob/master/KVM/script/add_sshkeys.sh?raw=true
https://github.com/gncloud/gncloud/blob/master/KVM/script/get_ipaddress.sh?raw=true
https://github.com/gncloud/gncloud/blob/master/KVM/script/get_vm_use.sh?raw=true
https://github.com/gncloud/gncloud/blob/master/KVM/script/make_sshkey.sh?raw=true
https://github.com/gncloud/gncloud/blob/master/KVM/script/sshkey_copy.sh?raw=true

# 실행 가능하도록 모드 변경
$ cd /var/lib/gncloud/KVM/script
$ chmod 777 *sh </code>
</pre>
                <hr>
                <p></p>
                <h3>
                    <a id="user-content-5-지앤클라우드-호스트-설치-linux---docker" class="anchor" href="#5-지앤클라우드-호스트-설치-linux---docker" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>5. 지앤클라우드 호스트 설치 (Linux - Docker)
                </h3>
                <hr>
                <h4>
                    <a id="user-content-docker-설치-1" class="anchor" href="#docker-설치-1" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>docker 설치
                </h4>
                <p>
                    <a href="https://docs.docker.com/engine/installation/">https://docs.docker.com/engine/installation/</a>
                </p>
                                <pre>
<code>  # docker 설치 후 수행
$ sed -i "s/ExecStart=\/usr\/bin\/dockerd/ExecStart=\/usr\/bin\/dockerd -H tcp:\/\/0.0.0.0:2375 \
-H unix:\/\/\/var\/run\/docker.sock --insecure-registry docker-registry:5000/g" \
/usr/lib/systemd/system/docker.service
$ systemctl enable docker
$ systemctl start docker

# docker registry IP 를 /etc/hosts에 등록 (docker registry IP는 지앤클라우드 플랫폼 호스트 IP)
$ echo "[docker registry IP]   docker-registry" &gt;&gt; /etc/hosts

# hostname 설정
1) 매니저
$ echo "manager" &gt; /etc/hostname

참고) docker manager와 worker의 hostname은 지앤클라우드 web ui의 시스템관리자에서 설정하는 클러스터 구성에서 반드시 이름이 같아야 한다.  </code>
</pre>
                <h4>
                    <a id="user-content-docker-swarm-manager--worker-설정" class="anchor" href="#docker-swarm-manager--worker-설정" aria-hidden="true">
                        <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
                            <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
                        </svg>
                    </a>docker swarm manager &amp; worker 설정
                </h4>
                                <pre>
<code># swarm manager 호스트
$ docker swarm init --advertise-addr [manager IP]
# 결과 값에 token 값 출력 (예:result token : SWMTKN-1-49nj1cmql0jkz5s954yi3oex3nedyz0fb0xx14ie39trti4wxv-8vxv8rssmk743ojnwacrr2e7c)

# swarm worker 호스트
$ docker swarm join --token SWMTKN-1-49nj1cmql0jkz5s954yi3oex3nedyz0fb0xx14ie39trti4wxv-8vxv8rssmk743ojnwacrr2e7c [manager IP]:2377 </code>
</pre>
            </article>
        </div>
        <!-- 매뉴얼 내용 끝 -->
    </div>

    <!--FOOTER-->
    <footer class="footer">
        <div class="container">

            <div class="col-lg-2"><img src="/gn_images/gncloud_footer_logo.png" alt="footer logo"></div>
            <div class="col-lg-offset-1 col-lg-5 address">
                <address>주소 : 서울시 강남구 테헤란로 332, 현정빌딩 2층 (06212)</address>
                <p>2F, Hyunjung Bldg., 332, Teheran-ro, Gangnam-gu, Seoul, Korea (06212)</p>
                <address>
                    <a href="mailto:#">contact@gnclouds.com</a>
                    <span>Tel : 02-508-1151</span>
                </address>
            </div>
            <div class="col-lg-2 address">
                <p><a href="">약관</a></p>
                <p><a href="">개인정보보호</a></p>
            </div>
            <p class="col-lg-12 text-center gn-copyright">&copy; COPYRIGHT 지앤클라우드 ALL RIGHT RESERVED.</p>
            <div class="footer-img"></div>
        </div>
    </footer>

</div><!--blur-->


<!-- Modal -->
<div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <div class="embed-responsive embed-responsive-16by9">
            <iframe id="YourIFrameID" class="embed-responsive-item" width="1920" height="1080" src="https://www.youtube.com/embed/W2FV38dbHzU?&autoplay=1" frameborder="0" allowfullscreen allowscriptaccess="always"></iframe>
        </div>

    </div>
</div>


<!--로그인 모달창-->
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
    <div class="modal-dialog modal-sm">
        <div class="pull-modal-container">
            <div class="login-logo"></div>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h1>로그인</h1>
            <br>
            <form>
                <div class="form-box">
                    <i class="glyphicon glyphicon-user"></i>
                    <input type="text" name="user" placeholder="Username">
                    <p class="middle-line"></p>
                    <i class="glyphicon glyphicon-lock"></i>
                    <input type="password" name="pass" placeholder="Password">
                </div>

                <!--체크박스-->
                <div class="btn-id">
                    <input class="form-inputPop" type="checkbox" id="checkbox-id"/>
                    <i></i>
                    <label for="checkbox-id" class="label-id">아이디 저장</label>
                </div>

                <input type="button" class="btn btn-lg btn-block btn-gn-login" value="로그인" id="login_btn"><!--로그인--></input>
            </form>
        </div><!--class="pull-modal-container"-->
    </div><!--class="modal-dialog modal-sm"-->
</div><!--login-modal-->

<!-- max-width: 767px 에서 동작하는 header menu 모달창-->
<div class="modal fade" id="menuModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
    <div class="modal-dialog modal-sm">
        <div class="pull-modal-container">
            <!--<div class="login-logo"></div>-->
            <button type="button" class="close" data-dismiss="modal">&times;</button>

            <ul class="list-group">
                <li><a href="storeMain.html">스토어</a></li>
                <li><a href="supportMain.html">지원</a></li>
                <li><a href="intro.html">소개</a></li>
                <li><a href="mobileLogin.html">로그인</a></li>
                <li><a href="joinEmail.html">회원가입</a></li>
            </ul>
            <button type="submit" value="submit" class="btn btn-default">클라우드 콘솔실행</button>

        </div><!--class="pull-modal-container"-->
    </div><!--class="modal-dialog modal-sm"-->
</div><!--모바일 menu-modal-->


<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../assets/gn_js/bootstrap.min.js"></script>
<script language="javascript">
    $(document).ready(function() {
        if($('#myModal').data('bs.modal').isShown == true){
            console.log("Modal is open");
            alert("test");
        }
        $('#myModal').on('modal.fade', function () {
            $('#YourIFrameID')[0].contentWindow.postMessage('{"event":"command","func":"' + 'stopVideo' + '","args":""}', '*');
        })
    });

</script>
</body>
</html>
